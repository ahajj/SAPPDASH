Author: Andrew Hajj
Class: METCS622 Term Project - SAPPDASH

========================================================

This project simulates monitoring a list of systems hosted on the SAP Cloud Platform.

All systems are pseudo-randomly generated, along with their metrics and processes (where applicable).

The requirements are the postconditions of AppMonitorMain.main().  It is recommended to expand the console window in eclipse to show all three systems...it should autoscroll to the next system 'refresh'. 

The design is AppMonitorMain   --->  System 
				       ^
                        	    /  |  \
                    		   /   |   \
                    		  /    |    \
                    		 /     |     \
                    		/      |      \
           	      JavaSystem  HTML5System  DatabaseSystem  (subclasses of System)

A more detailed design and use case can be seen here:
https://docs.google.com/spreadsheets/d/1gT_QzD5FxQ8g48AlrMcsA9zKE7ZtiGuJFfMLL39LjPA/edit?usp=sharing
           	      
All Systems have a list of Metrics which have contain warning and error thresholds.
Metrics also contain the current value, as well as the min and max values.

Java Systems have a list of Processes which also have metrics.

The abstract class AMSupport contains a number of supporting fields and functions.  These include:
	Static final variables (possible system states, warning and error thresholds, metric names...etc.  basically the onestop shop for numbers/text that are used across the application so that if they need to be changed it will only have to be once) 

Upon running AppMonitorMain (under com.appmonitor), the application will first prompt the user to select Continuous or Sandbox Mode.

Continuous mode will attempt to recover the systems from a previous run.  If it is unable to do so, it will generate a number of systems, along with pseudo-randomly generated metric values.

Sandbox mode will prompt the user for a number of each system to generate, as well as the number of refreshes to run.  For example, an input of '2 3 4 30' will:
	1. Generate 2 Java Systems, 3 HTML5 Systems and 4 Database Systems
	2. Simulate 30 system refreshes 

**Note: Currently the application is set to generate 3 systems (1 Java Systems, 1 Database Systems and 1 HTML5 Systems) in Continuous Mode.  This can be changed in AppMonitorMain by changing 'numberOfSystems'

After generating the systems/metrics, the application attempts to analyze the systems.
	It looks at the metric value and checks to see if it is above the error and/or warning thresholds.
	Above Warning Threshold generates a message stating the application is unhealthy
	Above Error Threshold generates a message stating the application should be restarted.
^ The above information is shown in a nice output to console, as well as a detailed log file (ApplicationMonitorLog.log in the project directory)

SAPPDASH will also analyze each system to determine it's current state as well as a historical analysis.

SAPPDASH will then print it's analysis to the console.  After printing the analysis the console, SAPPDASH will create a snapshot of the systems and metrics that can be used in the next run to continue monitoring the same systems

SAPPDASH keeps a record the last 500 metric values & states per metric.  These values are then used to calculate the average metric value.

Unit testing can be found under 'test'.  The test package structure mirrors src.

**Note** Running AMSupportNoJUnit can be done to test File I/O as well as acts as a nice demo of the system.

-----  Sample Output -----

The following is a sample output from the system:  

Welcome to SAPPDASH! 
Currently two modes are supported...
Continuous will generate/recover systems and will run until the application is closed
Sandbox will allow you to input systems and time to monitor.Please select the sytem mode - [C]ontinuous or [S]andbox: s
You have selected--->s
Beginning Sandbox Mode:
 Please enter the number of each system you would like to generate followed by the number of refreshes you would like to run.
 For example, creating 3 Java systems, 2 HTML5 systems and 1 Database system to be updated 45 times would look like '3 2 1 45' : 1 1 1 3

You have selected--->1 1 1 3
Generated System: javaaccount0applicationName0!
Generated System: html5account1applicationName1!
Generated System: databaseaccount2applicationName2!

...
 _____________________________________
/ javaaccount0applicationName0        \ 
|_____________________________________|______________________________________________________________________
|  Type:                               java |                                                      |        |
| Account:                         account0 |                  Metric:      Value            State | Average|
| State:                              Error |                                                      |        |
| # of Metrics:                           8 |         Used Disc Space:  31 %          -         Ok |  15.75 |
|    # Error:                             2 |     Requests per Minute:  18 requests   -         Ok |  46.50 |
|    # Warning:                           0 |                CPU Load:  96 %          -      Error |  45.75 |
|    # Ok:                                6 |                Disk I/O:   6 %          -         Ok |  43.50 |
| # of Processes:                         1 |         OS Memory Usage:  89 %          -         Ok |  49.50 |
|    # Error:                             1 |       Heap Memory Usage: 100 %          -      Error |  54.75 |
|    # Warning:                           0 |   Average Response Time:  61 ms         -         Ok |  41.00 |
|    # Ok:                                0 |            Busy Threads:  34            -         Ok |  58.50 |
\___________________________________________/\_____________________________________________________/\_______/
Current Analysis: System Health and/or Recommended Action: Restart Recommended
Historical Analysis Breakdown:
	Healthy 0.00%  | Unhealthy 0.00%  | Restart Recommended 100.00% 
 _____________________________________
/ html5account1applicationName1       \ 
|_____________________________________|______________________________________________________________________
|  Type:                              html5 |                                                      |        |
| Account:                         account1 |                  Metric:      Value            State | Average|
| State:                                 Ok |                                                      |        |
| # of Metrics:                           2 |          HTML5 Metric 1:   1 %          -         Ok |  44.50 |
|    # Error:                             0 |          HTML5 Metric 2:   0 %          -         Ok |  14.25 |
|    # Warning:                           0 |                                                      |        |
|    # Ok:                                2 |                                                      |        |
\___________________________________________/\_____________________________________________________/\_______/
Current Analysis: System Health and/or Recommended Action: Healthy
Historical Analysis Breakdown:
	Healthy 50.00%  | Unhealthy 0.00%  | Restart Recommended 50.00% 
 _____________________________________
/ databaseaccount2applicationName2    \ 
|_____________________________________|______________________________________________________________________
|  Type:                           database |                                                      |        |
| Account:                         account2 |                  Metric:      Value            State | Average|
| State:                            Warning |                                                      |        |
| # of Metrics:                           2 |                CPU Load:  21 %          -         Ok |  40.75 |
|    # Error:                             0 |                Disk I/O:  90 %          -    Warning |  52.25 |
|    # Warning:                           1 |                                                      |        |
|    # Ok:                                1 |                                                      |        |
\___________________________________________/\_____________________________________________________/\_______/
Current Analysis: System Health and/or Recommended Action: Unhealthy
Historical Analysis Breakdown:
	Healthy 75.00%  | Unhealthy 25.00%  | Restart Recommended 0.00% 


Opening the more detailed log (ApplicationMonitorLog.log) will show something like the following:

HTML5 Application: html5account1applicationName1
		Account: account1
		State: Error
		Type: html5
	Metrics: 
	Metric 'HTML5 Metric 1': 
		State: Error...Current Value: 91 %
		Min Value: 20 %...Max Value: 30 %
		Warning Threshold: 20 %...Error Threshold: 30 %
		Timestamp: 2020 05 18 22:20:38
		Output: Restart Recommended - 'HTML5 Metric 1' at 91 %
	Metric 'HTML5 Metric 2': 
		State: Error...Current Value: 37 %
		Min Value: 20 %...Max Value: 30 %
		Warning Threshold: 20 %...Error Threshold: 30 %
		Timestamp: 2020 05 18 23:02:45
		Output: Restart Recommended - 'HTML5 Metric 2' at 37 %

The following Metrics have an Error! Metric Value is greatly above the Acceptable Range!
 * 'HTML5 Metric 1' at 91 % (W:20%|E:30%)
 * 'HTML5 Metric 2' at 37 % (W:20%|E:30%)


Metrics that have had errors over 35.0% of the time:  
 * HTML5 Metric 1: Healthy 33.33%  | Unhealthy 0.00%  | Restart Recommended 66.67% 
